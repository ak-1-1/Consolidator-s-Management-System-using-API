<html>
  <head>
    <title>Sign up</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
    />
    <style></style>
  </head>
  <body>
    <header>
      <nav class="navbar navbar-inverse">
        <div class="container-fluid">
          <div class="navbar-header">
            <a class="navbar-brand" href="#">Consolidators.com</a>
          </div>
          <ul class="nav navbar-nav">
            <li class="active"><a href="#">Home</a></li>
            <li><a href="#">Privacy Policy</a></li>
          </ul>
          <form class="navbar-form navbar-left" id="srch_frm">
            <div class="form-group">
              <input
                id="srch"
                type="text"
                class="form-control"
                placeholder="Search"
                name="search"
              />
            </div>
            <button type="submit" class="btn btn-default" id="srch-btn">
              Submit
            </button>
          </form>
          <form class="navbar-form navbar-right">
            <button type="submit" class="btn btn-danger" id="signup">
              Sign Up
            </button>
            <button type="submit" class="btn btn-danger" id="login-btn">
              Sign-in
            </button>
          </form>
        </div>
      </nav>
    </header>
    <section class="vh-100" style="background-color: #92a6c5">
      <div class="container py-5 h-100">
        <div class="row d-flex justify-content-center align-items-center h-100">
          <div class="col col-xl-10">
            <div class="card" style="border-radius: 1rem">
              <div class="row g-0">
                <div class="col-md-6 col-lg-5 d-none d-md-block">
                  <img
                    src="https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-login-form/img1.webp"
                    width="300"
                    height="400"
                    alt="Register form"
                    class="img-fluid"
                    style="border-radius: 1rem 0 0 1rem; align-self: auto"
                  />
                </div>
                <div class="col-md-6 col-lg-7 d-flex align-items-center">
                  <div class="card-body p-4 p-lg-5 text-black">
                    <form asp-action="register" background="white">
                      <div class="d-flex align-items-center mb-3 pb-1">
                        <i
                          class="fas fa-cubes fa-2x me-3"
                          style="color: #ff6219"
                        ></i>
                        <span class="h1 fw-bold mb-0"
                          ><img
                            src="https://www.consolidador.com/assets/img-consolidador/logos/lg_consolidador-color-a.svg"
                            style="width: 185px"
                            alt="logo"
                        /></span>
                      </div>

                      <h5
                        class="fw-normal mb-3 pb-3"
                        style="letter-spacing: 1px"
                      >
                        Create your account
                      </h5>

                      <div class="form-outline mb-4">
                        <input
                          asp-for="Userid"
                          id="uid"
                          class="form-control form-control-lg"
                          id="uid"
                        />
                        <label class="form-label" asp-for="Userid"
                          >User-id</label
                        >
                        <span
                          asp-validation-for="Userid"
                          class="text-danger"
                        ></span>
                      </div>

                      <div class="form-outline mb-4">
                        <input
                          asp-for="Pword"
                          type="password"
                          id="pword"
                          class="form-control form-control-lg"
                          id="pword"
                        />
                        <label class="form-label" asp-for="Pword"
                          >Password</label
                        >
                        <span
                          asp-validation-for="Pword"
                          class="text-danger"
                        ></span>
                      </div>

                      <div class="form-outline mb-4">
                        <input
                          asp-for="Username"
                          id="uname"
                          class="form-control form-control-lg"
                          id="uname"
                        />
                        <label class="form-label" asp-for="Username"
                          >Username</label
                        >
                        <span
                          asp-validation-for="Username"
                          class="text-danger"
                        ></span>
                      </div>

                      <div class="form-outline mb-4">
                        <input
                          asp-for="Phonenumber"
                          id="phnno"
                          class="form-control form-control-lg"
                          id="phn_n"
                        />
                        <label class="form-label" asp-for="Phonenumber"
                          >Phone-number</label
                        >
                        <span
                          asp-validation-for="Phonenumber"
                          class="text-danger"
                        ></span>
                      </div>

                      <div class="pt-1 mb-4">
                        <button
                          class="btn btn-dark btn-lg btn-block"
                          type="submit"
                          id="subbtn"
                        >
                          Create your account
                        </button>
                      </div>

                      <a href="#!" class="small text-muted">Terms of use.</a>
                      <a href="#!" class="small text-muted">Privacy policy</a>
                    </form>
                    <div
                      id="error-message"
                      style="display: none; color: red; margin-top: 10px"
                    ></div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>

    <script>
      $(document).ready(function () {
        //GetReservation();
        //alert("afdsf");
        var v = document.getElementById("srch_frm");
        v.style.visibility = "hidden";
        $("#signup").click(function (e) {
          e.preventDefault();
          window.location.href = "sign_up.html";
        });

        $("#login-btn").click(function (e) {
          e.preventDefault();
          window.location.href = "login.html";
        });
        $("#subbtn").click(function (e) {
          e.preventDefault();
          //alert(id);
          (data = JSON.stringify({
            userid: $("#uid").val(),
            pword: $("#pword").val(),
            username: $("#uname").val(),
            phonenumber: $("#phnno").val(),
          })),
            //alert(data);
          $.ajax({
            url: "https://localhost:7074/api/login/register",
            type: "post",
            headers: {
              "Content-Type": "application/json;charset=UTF-8",
              "Access-Control-Allow-Origin": "*",
              "Access-Control-Allow-Method": "*",
            },
            data: data,
            processData: false,
            contentType: false,
            success: function (result, status, xhr) {
              //alert(data);
              e.preventDefault();
            },
            error: function (xhr, status, error) {
              //alert(data);
              e.preventDefault();
              $("#error-message").text(xhr.responseText);
              $("#error-message").show();
              //console.log(xhr);
            },
          }).fail(e.preventDefault());
        });
      });
    </script>
  </body>
</html>
